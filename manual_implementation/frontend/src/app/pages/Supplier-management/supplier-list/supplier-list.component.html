<div class="p-grid p-m-2">
  <div class="p-col-12">
    <p-toast></p-toast>
    <p-confirmDialog></p-confirmDialog>
    <p-card header="Suppliers">
      <div class="p-d-flex p-jc-end p-mb-3">
        <p-button label="Add Supplier" routerLink="/suppliers/new" icon="pi pi-plus"></p-button>
      </div>
      <p-table [value]="suppliers" [loading]="loading" [paginator]="true" [rows]="10">
        <ng-template pTemplate="header">
          <tr>
            <th>Logo</th>
            <th>Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Address</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-supplier>
          <tr>
            <td>
              <div class="supplier-logo">
                <img *ngIf="supplier.logo" [src]="supplier.logo" alt="Supplier Logo">
                <span *ngIf="!supplier.logo">No Logo</span>
              </div>
            </td>
            <td>{{supplier.name}}</td>
            <td>{{supplier.email}}</td>
            <td>{{supplier.officePhoneNumber}}</td>
            <td>{{supplier.address}}</td>
            <td>
              <p-tag [severity]="supplier.isAct ? 'success' : 'danger'">
                {{supplier.isAct ? 'Active' : 'Inactive'}}
              </p-tag>
            </td>
            <td>
              <div class="actions">
                <p-button icon="pi pi-eye" 
                          [routerLink]="['/suppliers', supplier._id , 'view']"
                          class="p-button-rounded p-button-text p-button-info"
                          pTooltip="View Details"
                          tooltipPosition="top"></p-button>
                <p-button icon="pi pi-pencil" 
                          [routerLink]="['/suppliers', supplier._id,'edit']"
                          class="p-button-rounded p-button-text"
                          pTooltip="Edit"
                          tooltipPosition="top"></p-button>
                <p-button icon="pi pi-trash" 
                          (click)="confirmDelete(supplier)"
                          class="p-button-rounded p-button-text p-button-danger"
                          pTooltip="Delete"
                          tooltipPosition="top"></p-button>
              </div>
            </td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="7" class="text-center">No suppliers found.</td>
          </tr>
        </ng-template>
      </p-table>
    </p-card>
  </div>
</div> 